{% extends 'app_store/base.html' %}
{% load static %}
{% block links %}
  <link rel="stylesheet" type="text/css" href="{% static 'app_store/css/style1.css' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
{% endblock %}

{% block content %}
  <h2>Категории товаров</h2>
  <div style="display: flex; margin: 0 auto; width: 1000px;">
    <div class="addСategory mt-5">
      <h6>Добавить новую категорию</h6>
      <form method="post" action="{% url 'categories_list' %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" style="width: 100px;" class="btn btn-primary">Добавить</button>
      </form>
    </div>
    <div class="smallTableContainer">
      <table class="table mt-5 table-sm table-primary table-hover table-bordered text-center">
        <thead>
          <tr>
            <th>Название категории</th>
            <th>Действие</th>
          </tr>
        </thead>
        <tbody>
          {% for category in categories %}
            <tr>
              <td>{{ category.name }}</td>
              <td>
                <form method="post" action="{% url 'delete_category' category.id %}" style="display: inline;">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger btn-sm">Удалить</button>
              </form>
              </td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="2">Нет категорий</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}